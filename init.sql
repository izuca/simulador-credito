CREATE TABLE PRODUTO (
    CO_PRODUTO SERIAL PRIMARY KEY,
    NO_PRODUTO VARCHAR(200) NOT NULL,
    PC_TAXA_JUROS NUMERIC(10,9) NOT NULL,
    NU_MINIMO_MESES SMALLINT NOT NULL,
    NU_MAXIMO_MESES SMALLINT,
    VR_MINIMO NUMERIC(18,2) NOT NULL,
    VR_MAXIMO NUMERIC(18,2)
);

INSERT INTO PRODUTO (NO_PRODUTO, PC_TAXA_JUROS, NU_MINIMO_MESES, NU_MAXIMO_MESES, VR_MINIMO, VR_MAXIMO)
VALUES
('PRODUTO 1', 0.017900000, 0, 24, 200.00, 10000.00),
('PRODUTO 2', 0.017500000, 25, 48, 10001.00, 100000.00),
('PRODUTO 3', 0.018200000, 49, 96, 100000.01, 1000000.00),
('PRODUTO 4', 0.015100000, 97, NULL, 1000000.01, NULL);

CREATE TABLE SIMULACAO (
    ID_SIMULACAO SERIAL PRIMARY KEY,
    VR_DESEJADO NUMERIC(18,2) NOT NULL,
    PRAZO INT NOT NULL,
    DATA_HORA TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    CO_PRODUTO INT NOT NULL REFERENCES PRODUTO(CO_PRODUTO)
);

CREATE TABLE PARCELA (
    ID_PARCELA SERIAL PRIMARY KEY,
    TIPO VARCHAR(100) NOT NULL,
    NUMERO INT NOT NULL,
    VR_AMORTIZACAO NUMERIC(18,2) NOT NULL,
    VR_JUROS NUMERIC(18,9) NOT NULL,
    VR_PRESTACAO NUMERIC(18,2) NOT NULL,
    ID_SIMULACAO INT NOT NULL REFERENCES SIMULACAO(ID_SIMULACAO)
);